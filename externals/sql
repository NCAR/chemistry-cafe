SET default_with_oids = false;

CREATE TABLE externals (
    name text,
    ordering integer,
    id integer NOT NULL,
    description text
);


CREATE SEQUENCE externals_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;

ALTER TABLE ONLY externals ALTER COLUMN id SET DEFAULT nextval('externals_id_seq'::regclass); 

ALTER TABLE ONLY externals ADD CONSTRAINT externals_id_key UNIQUE (id); 

ALTER TABLE ONLY externals ADD CONSTRAINT externals_name_key UNIQUE (name);

ALTER TABLE ONLY externals ADD CONSTRAINT externals_ordering_key UNIQUE (ordering);


CREATE TABLE species_externals (
    id integer NOT NULL,
    species_id integer NOT NULL,
    externals_id integer NOT NULL
);

CREATE SEQUENCE species_externals_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;

ALTER TABLE ONLY species_externals ALTER COLUMN id SET DEFAULT nextval('species_externals_id_seq'::regclass);

ALTER TABLE ONLY species_externals ADD CONSTRAINT species_externals_externals_id_fkey FOREIGN KEY (externals_id) REFERENCES externals(id);

ALTER TABLE ONLY species_externals ADD CONSTRAINT species_externals_species_id_fkey FOREIGN KEY (species_id) REFERENCES molecules(id);


